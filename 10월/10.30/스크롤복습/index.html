<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="http://code.jquery.com/jquery-3.6.1.js"></script>
    <script defer>
      $(function () {
        $(window).scroll(function () {
          let sct = $(window).scrollTop();
          $("span").text(sct);

          if (sct >= 100) {
            $("nav").addClass("fixed");
          } else {
            $("nav").removeClass("fixed");
          }
          $("div >section").each(function (index) {
            if (sct >= $(this).offset().top) {
              $("nav ul li").removeClass("on");
              $("nav ul li").eq(index).addClass("on");
            }
          });
        });

        $("li").click(function () {
          let i = $(this).index();
          //   alert(i);
          let offset = $("div> section").eq(i).offset().top;
          //   alert(offset);
          //   $("li").removeClass("on");
          //   $(this).addClass("on");
          $("html,body").stop().animate({ scrollTop: offset }, 1000);
        });
      });
    </script>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      h2 {
        position: fixed;
        right: 10px;
        bottom: 10px;
        background-color: rgba(255, 255, 255, 0.8);
      }
      nav {
        width: 100%;
        /* display: flex; */
        transition: all 0.5s;
        position: absolute;
        top: 100px;
      }
      nav.fixed {
        position: fixed;
        width: 100%;
        top: 0;
        left: 0;
      }
      nav ul {
        width: 100%;
        height: 60px;
        /* position: fixed; */
        display: flex;
        justify-content: space-around;
        margin: 0 auto;
        padding: 10px;
        list-style: none;
        background-color: rgba(10, 10, 10, 0.5);
        z-index: 10;
      }
      nav ul li {
        cursor: pointer;
        padding: 10px;
        border-radius: 10px;
        background-color: blueviolet;
      }
      nav ul li.on {
        color: orange;
      }
      section {
        /* position: relative; */
      }
      div > section {
        width: 100%;
        height: 100vh;
      }
      .sec1 {
        background-color: aliceblue;
      }
      .sec2 {
        background-color: bisque;
      }
      .sec3 {
        background-color: blue;
      }
      .sec4 {
        background-color: aqua;
      }
      .sec5 {
        background-color: red;
      }
    </style>
  </head>
  <body>
    <h2>현재스크롤: <span>000</span></h2>
    <nav>
      <ul>
        <li class="on">1번메뉴</li>
        <li>2번메뉴</li>
        <li>3번메뉴</li>
        <li>4번메뉴</li>
        <li>5번메뉴</li>
      </ul>
    </nav>
    <div>
      <section class="sec1">1번내용</section>
      <section class="sec2">2번내용</section>
      <section class="sec3">3번내용</section>
      <section class="sec4">4번내용</section>
      <section class="sec5">5번내용</section>
    </div>
  </body>
</html>
